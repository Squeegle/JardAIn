<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garden Plan - {{ app_name }}</title>
    <link rel="stylesheet" href="static/css/pdf_styles.css">
</head>
<body>
    <!-- Garden Overview (first page) -->
    <div class="overview-page">
        <h2 class="section-title">üåø Garden Overview</h2>
        
        <div class="location-details">
            <h3>üìç Location Information</h3>
            <table class="info-table">
                <tr>
                    <td><strong>Location:</strong></td>
                    <td>{{ location_info.city }}, {{ location_info.state }} {{ location_info.zip_code }}</td>
                </tr>
                {% if location_info.climate_zone %}
                <tr>
                    <td><strong>Climate Zone:</strong></td>
                    <td>{{ location_info.climate_zone }}</td>
                </tr>
                {% endif %}
                {% if location_info.frost_dates %}
                <tr>
                    <td><strong>Last Spring Frost:</strong></td>
                    <td>{{ location_info.frost_dates.last_spring_frost or 'N/A' }}</td>
                </tr>
                <tr>
                    <td><strong>First Fall Frost:</strong></td>
                    <td>{{ location_info.frost_dates.first_fall_frost or 'N/A' }}</td>
                </tr>
                {% endif %}
            </table>
        </div>
        
        <div class="plants-overview">
            <h3>üå± Selected Plants ({{ total_plants }} varieties)</h3>
            <div class="plants-grid">
                {% for plant in enhanced_plants %}
                <div class="plant-card-mini">
                    <div class="plant-name">{{ plant.name }}</div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="generation-info">
            <p><small>Generated on {{ generation_date }} at {{ generation_time }} by {{ app_name }}</small></p>
        </div>
    </div>

    <!-- Individual Plant Pages (each starts on a new page) -->
    {% for plant in enhanced_plants %}
    <div class="plant-page">
        <div class="plant-header">
            <h2 class="plant-title">üå± {{ plant.name }}</h2>
        </div>

        <div class="plant-content">
            <!-- Basic Information Table -->
            {% if plant.database_info %}
            <div class="plant-section">
                <h3>üìã Plant Information</h3>
                <table class="plant-info-table">
                    <tr>
                        <td><strong>Sun Requirements:</strong></td>
                        <td>{{ plant.database_info.sun_requirement or 'Full sun' }}</td>
                    </tr>
                    <tr>
                        <td><strong>Water Needs:</strong></td>
                        <td>{{ plant.database_info.water_needs or 'Regular watering' }}</td>
                    </tr>
                    <tr>
                        <td><strong>Days to Harvest:</strong></td>
                        <td>{{ plant.database_info.days_to_maturity or 'See growing instructions' }}</td>
                    </tr>
                    <tr>
                        <td><strong>Plant Spacing:</strong></td>
                        <td>{{ plant.database_info.spacing or 'See growing instructions' }}</td>
                    </tr>
                    <tr>
                        <td><strong>Planting Depth:</strong></td>
                        <td>{{ plant.database_info.planting_depth or 'See growing instructions' }}</td>
                    </tr>
                </table>
            </div>
            {% endif %}

            <!-- Planting Schedule -->
            {% if plant.planting_schedule %}
            <div class="plant-section">
                <h3>üìÖ Planting Schedule</h3>
                <table class="schedule-table">
                    {% if plant.planting_schedule.start_indoors and plant.planting_schedule.start_indoors != 'N/A' %}
                    <tr>
                        <td><strong>Start Seeds Indoors:</strong></td>
                        <td>{{ plant.planting_schedule.start_indoors }}</td>
                    </tr>
                    {% endif %}
                    {% if plant.planting_schedule.direct_sow and plant.planting_schedule.direct_sow != 'N/A' %}
                    <tr>
                        <td><strong>Direct Sow Outdoors:</strong></td>
                        <td>{{ plant.planting_schedule.direct_sow }}</td>
                    </tr>
                    {% endif %}
                    {% if plant.planting_schedule.transplant and plant.planting_schedule.transplant != 'N/A' %}
                    <tr>
                        <td><strong>Transplant Outdoors:</strong></td>
                        <td>{{ plant.planting_schedule.transplant }}</td>
                    </tr>
                    {% endif %}
                    {% if plant.planting_schedule.harvest and plant.planting_schedule.harvest != 'See instructions' %}
                    <tr>
                        <td><strong>Harvest Period:</strong></td>
                        <td>{{ plant.planting_schedule.harvest }}</td>
                    </tr>
                    {% endif %}
                </table>
            </div>
            {% endif %}

            <!-- Growing Instructions -->
            {% if plant.growing_instructions %}
            <div class="plant-section">
                <h3>üåø Growing Instructions</h3>
                
                {% if plant.growing_instructions.soil_preparation %}
                <div class="instruction-block">
                    <h4>üèóÔ∏è Soil Preparation</h4>
                    <div class="instruction-content">{{ plant.growing_instructions.soil_preparation }}</div>
                </div>
                {% endif %}

                {% if plant.growing_instructions.planting_instructions %}
                <div class="instruction-block">
                    <h4>üå± Planting</h4>
                    <div class="instruction-content">{{ plant.growing_instructions.planting_instructions }}</div>
                </div>
                {% endif %}

                {% if plant.growing_instructions.care_instructions %}
                <div class="instruction-block">
                    <h4>üöø Care & Maintenance</h4>
                    <div class="instruction-content">{{ plant.growing_instructions.care_instructions }}</div>
                </div>
                {% endif %}

                {% if plant.growing_instructions.harvest_instructions %}
                <div class="instruction-block">
                    <h4>ü•ï Harvesting</h4>
                    <div class="instruction-content">{{ plant.growing_instructions.harvest_instructions }}</div>
                </div>
                {% endif %}

                {% if plant.growing_instructions.common_problems %}
                <div class="instruction-block">
                    <h4>üêõ Pest & Disease Management</h4>
                    <div class="instruction-content">{{ plant.growing_instructions.common_problems }}</div>
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}

    <!-- Planting Calendar (starts on new page) -->
    {% if include_calendar and calendar_data %}
    <div class="calendar-page">
        <h2 class="section-title">üìÖ Planting Calendar for {{ calendar_data.zone_info }}</h2>
        
        {% for month, activities in calendar_data.calendar.items() %}
        {% if activities %}
        <div class="month-section">
            <h3 class="month-title">{{ month }}</h3>
            <ul class="activity-list">
                {% for activity in activities %}
                <li class="activity-item">
                    <strong>{{ activity.plant }}:</strong> {{ activity.action }}
                    {% if activity.date %} ({{ activity.date }}){% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        {% endfor %}
        
        {% if calendar_data.frost_dates %}
        <div class="frost-info">
            <h3>‚ùÑÔ∏è Important Frost Dates</h3>
            <ul>
                <li><strong>Last Spring Frost:</strong> {{ calendar_data.frost_dates.last_spring_frost or 'N/A' }}</li>
                <li><strong>First Fall Frost:</strong> {{ calendar_data.frost_dates.first_fall_frost or 'N/A' }}</li>
            </ul>
        </div>
        {% endif %}
    </div>
    {% endif %}

    <!-- Layout Guide (starts on new page) -->
    {% if include_layout and layout_data %}
    <div class="layout-page">
        <h2 class="section-title">üó∫Ô∏è Garden Layout Guide</h2>
        
        {% if layout_data.spacing_guide %}
        <div class="spacing-section">
            <h3>üìè Plant Spacing Guide</h3>
            <table class="spacing-table">
                <thead>
                    <tr>
                        <th>Plant</th>
                        <th>Spacing</th>
                        <th>Depth</th>
                        <th>Sun</th>
                        <th>Water</th>
                    </tr>
                </thead>
                <tbody>
                    {% for guide in layout_data.spacing_guide %}
                    <tr>
                        <td><strong>{{ guide.plant }}</strong></td>
                        <td>{{ guide.spacing }}</td>
                        <td>{{ guide.depth }}</td>
                        <td>{{ guide.sun_requirement }}</td>
                        <td>{{ guide.water_needs }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        
        {% if layout_data.layout_tips %}
        <div class="tips-section">
            <h3>üí° Layout Tips</h3>
            <ul class="tips-list">
                {% for tip in layout_data.layout_tips %}
                <li>{{ tip }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
    {% endif %}
</body>
</html> 